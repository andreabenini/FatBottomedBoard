EESchema Schematic File Version 4
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title "Keyboard Controller"
Date "2020"
Rev "1.2"
Comp "Ben"
Comment1 "Keys Backlight (with PWM)"
Comment2 "2 Rotary Encoders"
Comment3 "LCD TFT Display (with SD Card reader)"
Comment4 "Teensy++ 2.0"
$EndDescr
$Comp
L Device:R R?
U 1 1 5E757802
P 7650 4750
F 0 "R?" V 7443 4750 50  0001 C CNN
F 1 "330" V 7650 4750 50  0000 C CNN
F 2 "" V 7580 4750 50  0001 C CNN
F 3 "~" H 7650 4750 50  0001 C CNN
	1    7650 4750
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E758D3E
P 7650 4850
F 0 "R?" V 7443 4850 50  0001 C CNN
F 1 "1K" V 7650 4850 50  0000 C CNN
F 2 "" V 7580 4850 50  0001 C CNN
F 3 "~" H 7650 4850 50  0001 C CNN
	1    7650 4850
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E758FB4
P 7650 4950
F 0 "R?" V 7443 4950 50  0001 C CNN
F 1 "1K" V 7650 4950 50  0000 C CNN
F 2 "" V 7580 4950 50  0001 C CNN
F 3 "~" H 7650 4950 50  0001 C CNN
	1    7650 4950
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E759510
P 7650 5050
F 0 "R?" V 7443 5050 50  0001 C CNN
F 1 "1K" V 7650 5050 50  0000 C CNN
F 2 "" V 7580 5050 50  0001 C CNN
F 3 "~" H 7650 5050 50  0001 C CNN
	1    7650 5050
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5E75982D
P 7650 5150
F 0 "R?" V 7443 5150 50  0001 C CNN
F 1 "1K" V 7650 5150 50  0000 C CNN
F 2 "" V 7580 5150 50  0001 C CNN
F 3 "~" H 7650 5150 50  0001 C CNN
	1    7650 5150
	0    1    1    0   
$EndComp
$Comp
L Connector_Generic:Conn_01x02 J1
U 1 1 5E771D4E
P 4050 3150
F 0 "J1" H 3968 2825 50  0001 C CNN
F 1 "Input 5v" H 3968 2916 50  0000 C CNB
F 2 "" H 4050 3150 50  0001 C CNN
F 3 "~" H 4050 3150 50  0001 C CNN
F 4 "GND" H 3800 3100 50  0000 C CNN "2"
F 5 "Vcc" H 3800 3000 50  0000 C CNN "1"
	1    4050 3150
	-1   0    0    1   
$EndComp
Wire Wire Line
	7800 4750 7850 4750
Wire Wire Line
	7800 4850 7950 4850
Wire Wire Line
	7800 4950 8250 4950
Wire Wire Line
	7800 5050 8250 5050
Wire Notes Line style solid rgb(132, 0, 0)
	8450 4450 8450 5500
Wire Notes Line style solid rgb(132, 0, 0)
	8450 5500 9800 5500
Wire Notes Line style solid rgb(132, 0, 0)
	9800 5500 9800 4450
Wire Notes Line style solid rgb(132, 0, 0)
	9800 4450 8450 4450
Wire Wire Line
	7400 4250 7400 4750
Wire Wire Line
	7300 4850 7500 4850
Wire Wire Line
	7300 4950 7500 4950
$Comp
L Device:Rotary_Encoder_Switch Control
U 1 1 5E7EB2C9
P 4200 5050
F 0 "Control" H 4200 4800 50  0000 C CNB
F 1 "Rotary_Encoder_Switch" H 4200 5326 50  0001 C CNN
F 2 "" H 4050 5210 50  0001 C CNN
F 3 "~" H 4200 5325 50  0001 C CNN
F 4 "SW" H 3850 4900 50  0000 C CNN "SW"
F 5 "DT" H 3850 5000 50  0000 C CNN "DT"
F 6 "CLK" H 3850 5100 50  0000 C CNN "CLK"
F 7 "GND" H 4600 4900 50  0000 C CNN "GND"
F 8 "Vcc" H 4600 5100 50  0000 C CNN "Vcc"
	1    4200 5050
	-1   0    0    1   
$EndComp
Wire Wire Line
	3700 4000 4850 4000
Text Notes 7300 7250 0    50   ~ 0
1
Text Notes 7400 7250 0    50   ~ 0
1
$Comp
L Device:R R?
U 1 1 5E9F7B34
P 7650 4650
F 0 "R?" V 7443 4650 50  0001 C CNN
F 1 "100" V 7650 4650 50  0000 C CNN
F 2 "" V 7580 4650 50  0001 C CNN
F 3 "~" H 7650 4650 50  0001 C CNN
	1    7650 4650
	0    1    1    0   
$EndComp
Wire Wire Line
	7400 4750 7500 4750
Wire Wire Line
	7800 4650 8250 4650
Wire Wire Line
	4850 3150 4850 4000
Wire Wire Line
	4250 3050 4750 3050
Wire Wire Line
	6800 3050 6800 3650
$Comp
L Device:Rotary_Encoder_Switch Macro
U 1 1 5EA37447
P 4200 4450
F 0 "Macro" H 4200 4200 50  0000 C CNB
F 1 "Rotary_Encoder_Switch" H 4200 4726 50  0001 C CNN
F 2 "" H 4050 4610 50  0001 C CNN
F 3 "~" H 4200 4725 50  0001 C CNN
F 4 "SW" H 3800 4300 50  0000 C CNN "SW"
F 5 "DT" H 3800 4400 50  0000 C CNN "DT"
F 6 "CLK" H 3800 4500 50  0000 C CNN "CLK"
F 7 "GND" H 4600 4300 50  0000 C CNN "GND"
F 8 "Vcc" H 4600 4500 50  0000 C CNN "Vcc"
	1    4200 4450
	-1   0    0    1   
$EndComp
Wire Wire Line
	3900 4550 3600 4550
Wire Wire Line
	3700 4350 3900 4350
$Comp
L Connector:Conn_01x04_Female J?
U 1 1 5EA4FC54
P 9800 4950
F 0 "J?" H 9718 4525 50  0001 C CNN
F 1 "Conn_01x04" H 9718 4616 50  0001 C CNN
F 2 "" H 9800 4950 50  0001 C CNN
F 3 "~" H 9800 4950 50  0001 C CNN
F 4 "SCK" H 9950 5050 50  0000 C CNN "SCK"
F 5 "MISO" H 9950 4950 50  0000 C CNN "MISO"
F 6 "MOSI" H 9950 4850 50  0000 C CNN "MOSI"
F 7 "CS" H 9950 4750 50  0000 C CNN "CS"
	1    9800 4950
	-1   0    0    -1  
$EndComp
Connection ~ 7950 4850
Connection ~ 7850 4750
Wire Wire Line
	7850 4750 8250 4750
$Comp
L Device:R R?
U 1 1 5EA68409
P 7650 3950
F 0 "R?" V 7443 3950 50  0001 C CNN
F 1 "1K" V 7650 3950 50  0000 C CNN
F 2 "" V 7580 3950 50  0001 C CNN
F 3 "~" H 7650 3950 50  0001 C CNN
	1    7650 3950
	0    1    1    0   
$EndComp
$Comp
L Device:R R?
U 1 1 5EA68789
P 7650 4050
F 0 "R?" V 7443 4050 50  0001 C CNN
F 1 "1K" V 7650 4050 50  0000 C CNN
F 2 "" V 7580 4050 50  0001 C CNN
F 3 "~" H 7650 4050 50  0001 C CNN
	1    7650 4050
	0    1    1    0   
$EndComp
Wire Wire Line
	7800 3950 10400 3950
Wire Wire Line
	7400 5050 7500 5050
Wire Wire Line
	7300 4850 7300 4150
Wire Wire Line
	7300 4150 6800 4150
$Comp
L Connector:Conn_01x08_Female LCD
U 1 1 5EB2D304
P 8450 4950
F 0 "LCD" H 9000 4950 50  0000 L CNB
F 1 "8 pin" H 8478 4835 50  0001 L CNN
F 2 "" H 8450 4950 50  0001 C CNN
F 3 "~" H 8450 4950 50  0001 C CNN
F 4 "Led" H 8600 5250 50  0000 C CNN "Led"
F 5 "SCK" H 8600 5150 50  0000 C CNN "SCK"
F 6 "SDA" H 8600 5050 50  0000 C CNN "SDA"
F 7 "A0 DC" H 8600 4950 50  0000 C CNN "A0"
F 8 "Reset" H 8600 4850 50  0000 C CNN "Reset"
F 9 "CS" H 8600 4750 50  0000 C CNN "CS"
F 10 "GND" H 8600 4650 50  0000 C CNN "GND"
F 11 "Vcc" H 8600 4550 50  0000 C CNN "Vcc"
	1    8450 4950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7950 4850 8250 4850
Wire Wire Line
	7300 5350 7300 4950
Wire Wire Line
	7800 5150 8250 5150
Wire Wire Line
	7500 5150 7500 5550
Wire Wire Line
	4250 3150 4850 3150
Connection ~ 4850 3150
Wire Wire Line
	4850 3150 5550 3150
Wire Wire Line
	4750 3900 4750 3050
Wire Wire Line
	3600 3900 4750 3900
Connection ~ 4750 3050
Wire Wire Line
	4750 3050 6800 3050
Wire Wire Line
	8250 5350 8050 5350
Wire Wire Line
	8050 5350 8050 3050
Connection ~ 6800 3050
Wire Wire Line
	5550 3150 5550 3650
Wire Wire Line
	8250 5250 8150 5250
Wire Wire Line
	8150 5250 8150 3150
Connection ~ 5550 3150
Wire Wire Line
	4500 4550 4750 4550
Wire Wire Line
	4500 4450 4850 4450
Wire Wire Line
	4500 4350 4950 4350
Wire Wire Line
	7500 5550 6800 5550
Wire Wire Line
	7400 5050 7400 5450
Wire Wire Line
	7400 5450 6800 5450
Wire Wire Line
	7300 5350 6800 5350
Wire Wire Line
	7200 4650 7200 5250
Wire Wire Line
	7200 5250 6800 5250
Wire Wire Line
	3700 4000 3700 4350
Wire Wire Line
	3600 3900 3600 4550
Wire Wire Line
	4500 5150 5550 5150
Wire Wire Line
	4500 5050 5550 5050
Wire Wire Line
	4500 4950 5550 4950
Wire Wire Line
	4750 4550 4750 4850
Wire Wire Line
	4750 4850 5550 4850
Wire Wire Line
	4850 4450 4850 4750
Wire Wire Line
	4850 4750 5550 4750
Wire Wire Line
	4950 4350 4950 4650
Wire Wire Line
	4950 4650 5550 4650
Wire Wire Line
	3600 4550 3600 5150
Wire Wire Line
	3600 5150 3900 5150
Connection ~ 3600 4550
Wire Wire Line
	3700 4350 3700 4950
Wire Wire Line
	3700 4950 3900 4950
Connection ~ 3700 4350
$Comp
L teensy:Teensy++2.0-teensy++20 IC1
U 1 1 5EB26E81
P 6200 3400
F 0 "IC1" H 6175 3415 50  0000 C CNN
F 1 "Teensy++2.0" H 6175 3324 50  0000 C CNN
F 2 "" H 6200 3400 50  0001 C CNN
F 3 "" H 6200 3400 50  0001 C CNN
	1    6200 3400
	1    0    0    -1  
$EndComp
Wire Wire Line
	6800 4250 7400 4250
Wire Wire Line
	7200 4650 7500 4650
Wire Wire Line
	6800 3050 8050 3050
Wire Wire Line
	5550 3150 8150 3150
Wire Wire Line
	7850 4150 7850 4750
Wire Wire Line
	6800 4050 7500 4050
Wire Wire Line
	7800 4050 10300 4050
Wire Wire Line
	10300 4050 10300 4950
Wire Wire Line
	10300 4950 10000 4950
Wire Wire Line
	10000 4850 10200 4850
Wire Wire Line
	10200 4850 10200 4150
Wire Wire Line
	7850 4150 10200 4150
Wire Wire Line
	10000 5050 10100 5050
Wire Wire Line
	10100 5050 10100 4250
Wire Wire Line
	10100 4250 7950 4250
Wire Wire Line
	7950 4250 7950 4850
Wire Wire Line
	7500 3950 6800 3950
Wire Wire Line
	10400 3950 10400 5150
Wire Wire Line
	10400 5150 10000 5150
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5F0993D1
P 4050 3650
F 0 "J?" H 3968 3325 50  0001 C CNN
F 1 "Serial IC2" H 3968 3416 50  0000 C CNB
F 2 "" H 4050 3650 50  0001 C CNN
F 3 "~" H 4050 3650 50  0001 C CNN
F 4 "TX" H 3800 3600 50  0000 C CNN "2"
F 5 "RX" H 3800 3500 50  0000 C CNN "1"
	1    4050 3650
	-1   0    0    1   
$EndComp
Wire Wire Line
	4250 3550 5300 3550
Wire Wire Line
	5300 3550 5300 4050
Wire Wire Line
	5300 4050 5550 4050
Wire Wire Line
	4250 3650 5200 3650
Wire Wire Line
	5200 3650 5200 4150
Wire Wire Line
	5200 4150 5550 4150
$Comp
L Connector_Generic:Conn_01x05 J?
U 1 1 5F2EB678
P 4050 2400
F 0 "J?" H 3968 2817 50  0001 C CNN
F 1 "LED PWM" H 3950 2750 50  0000 C CNB
F 2 "" H 4050 2400 50  0001 C CNN
F 3 "~" H 4050 2400 50  0001 C CNN
F 4 "vcc" H 3800 2350 50  0000 C CNN "vcc"
F 5 "gnd" H 3800 2250 50  0000 C CNN "gnd"
F 6 " general" H 3750 2450 50  0000 C CNN "general"
F 7 "num" H 3800 2550 50  0000 C CNN "num"
F 8 "caps" H 3800 2650 50  0000 C CNN "caps"
	1    4050 2400
	-1   0    0    -1  
$EndComp
Wire Wire Line
	4750 3050 4750 2600
Wire Wire Line
	4750 2600 4250 2600
Wire Wire Line
	4850 3150 4850 2500
Wire Wire Line
	4850 2500 4250 2500
$Comp
L Connector_Generic:Conn_01x03 J?
U 1 1 5F32334A
P 2600 3250
F 0 "J?" H 2680 3292 50  0001 L CNN
F 1 "IRF 520" H 2850 3300 50  0001 C CNN
F 2 "" H 2600 3250 50  0001 C CNN
F 3 "~" H 2600 3250 50  0001 C CNN
F 4 "Sig" H 2300 3400 50  0000 C CNN "SIG"
F 5 "Vcc" H 2300 3300 50  0000 C CNN "Vcc"
F 6 "Gnd" H 2300 3200 50  0000 C CNN "Gnd"
	1    2600 3250
	1    0    0    -1  
$EndComp
Wire Wire Line
	5500 3750 5550 3750
Wire Wire Line
	5450 3850 5550 3850
Wire Wire Line
	5400 3950 5550 3950
Wire Wire Line
	5400 2200 5400 3950
Wire Wire Line
	5450 3850 5450 2300
Wire Wire Line
	5500 3750 5500 2400
Wire Notes Line
	5700 4000 5700 3700
Wire Notes Line
	5700 3700 6250 3700
Wire Notes Line
	6250 3700 6250 4000
Wire Notes Line
	6250 4000 5700 4000
Text Notes 6250 4000 2    35   ~ 0
Led\nPWM
$Comp
L Device:R R?
U 1 1 5F335569
P 2200 1800
F 0 "R?" V 1993 1800 50  0001 C CNN
F 1 "330" V 2200 1800 50  0000 C CNN
F 2 "" V 2130 1800 50  0001 C CNN
F 3 "~" H 2200 1800 50  0001 C CNN
	1    2200 1800
	0    1    1    0   
$EndComp
$Comp
L Device:LED num
U 1 1 5F3383DE
P 1900 1800
F 0 "num" H 1600 1750 50  0000 C CNN
F 1 "LED" H 1893 1926 50  0001 C CNN
F 2 "" H 1900 1800 50  0001 C CNN
F 3 "~" H 1900 1800 50  0001 C CNN
	1    1900 1800
	1    0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5F3485EF
P 2200 1650
F 0 "R?" V 1993 1650 50  0001 C CNN
F 1 "330" V 2200 1650 50  0000 C CNN
F 2 "" V 2130 1650 50  0001 C CNN
F 3 "~" H 2200 1650 50  0001 C CNN
	1    2200 1650
	0    1    1    0   
$EndComp
$Comp
L Device:LED caps
U 1 1 5F356812
P 1900 1650
F 0 "caps" H 1600 1600 50  0000 C CNN
F 1 "LED" H 1893 1776 50  0001 C CNN
F 2 "" H 1900 1650 50  0001 C CNN
F 3 "~" H 1900 1650 50  0001 C CNN
	1    1900 1650
	1    0    0    -1  
$EndComp
$Comp
L power:GNDREF #PWR?
U 1 1 5F369D14
P 1400 1900
F 0 "#PWR?" H 1400 1650 50  0001 C CNN
F 1 "GNDREF" H 1405 1727 50  0001 C CNN
F 2 "" H 1400 1900 50  0001 C CNN
F 3 "" H 1400 1900 50  0001 C CNN
	1    1400 1900
	1    0    0    -1  
$EndComp
Wire Wire Line
	1400 1800 1750 1800
Wire Wire Line
	1400 1800 1400 1650
Wire Wire Line
	1400 1650 1750 1650
Connection ~ 1400 1800
$Comp
L Connector_Generic:Conn_01x02 J?
U 1 1 5F373DAA
P 2600 1650
F 0 "J?" H 2518 1325 50  0001 C CNN
F 1 "Serial IC2" H 2518 1416 50  0001 C CNN
F 2 "" H 2600 1650 50  0001 C CNN
F 3 "~" H 2600 1650 50  0001 C CNN
	1    2600 1650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2350 1750 2350 1800
Wire Wire Line
	1400 1800 1400 1900
Wire Bus Line
	2700 1750 3500 1750
Wire Bus Line
	3500 1750 3500 2300
Wire Bus Line
	3500 2300 3950 2300
Wire Bus Line
	3950 2400 3500 2400
Wire Bus Line
	3500 2400 3500 3150
Wire Bus Line
	3500 3150 2700 3150
Wire Bus Line
	2700 3350 3600 3350
Wire Bus Line
	3600 3350 3600 2600
Wire Bus Line
	3600 2600 3950 2600
Wire Bus Line
	2700 1650 3600 1650
Wire Bus Line
	3600 1650 3600 2200
Wire Bus Line
	3600 2200 3950 2200
Wire Wire Line
	4250 2200 5400 2200
Wire Wire Line
	5450 2300 4250 2300
Wire Wire Line
	5500 2400 4250 2400
$Comp
L Transistor_BJT:TIP120 Q1
U 1 1 5F3FDFDC
P 1500 3150
F 0 "Q1" H 1800 3200 50  0000 L CNN
F 1 "TIP112" H 1707 3105 50  0000 L CNN
F 2 "Package_TO_SOT_THT:TO-220-3_Vertical" H 1700 3075 50  0001 L CIN
F 3 "http://www.fairchildsemi.com/ds/TI/TIP120.pdf" H 1500 3150 50  0001 L CNN
	1    1500 3150
	-1   0    0    -1  
$EndComp
$Comp
L Device:R R?
U 1 1 5F425616
P 1850 3150
F 0 "R?" V 1643 3150 50  0001 C CNN
F 1 "1K" V 1850 3150 50  0000 C CNN
F 2 "" V 1780 3150 50  0001 C CNN
F 3 "~" H 1850 3150 50  0001 C CNN
	1    1850 3150
	0    1    1    0   
$EndComp
Wire Wire Line
	2000 3150 2400 3150
$Comp
L power:GNDREF #PWR?
U 1 1 5F437534
P 1400 3350
F 0 "#PWR?" H 1400 3100 50  0001 C CNN
F 1 "GNDREF" H 1405 3177 50  0001 C CNN
F 2 "" H 1400 3350 50  0001 C CNN
F 3 "" H 1400 3350 50  0001 C CNN
	1    1400 3350
	1    0    0    -1  
$EndComp
Connection ~ 1400 3350
Wire Wire Line
	1400 3350 2400 3350
$Comp
L Device:R R?
U 1 1 5F44A11F
P 1400 2450
F 0 "R?" V 1193 2450 50  0001 C CNN
F 1 "470" V 1400 2450 50  0000 C CNN
F 2 "" V 1330 2450 50  0001 C CNN
F 3 "~" H 1400 2450 50  0001 C CNN
	1    1400 2450
	1    0    0    -1  
$EndComp
$Comp
L Device:LED _
U 1 1 5F46B54C
P 1900 2750
F 0 "_" V 1900 2450 50  0001 C CNN
F 1 "LED" H 1893 2876 50  0001 C CNN
F 2 "" H 1900 2750 50  0001 C CNN
F 3 "~" H 1900 2750 50  0001 C CNN
F 4 "Backlight Keys" V 2050 3000 39  0000 C CNN "Field4"
	1    1900 2750
	0    -1   -1   0   
$EndComp
$Comp
L Device:R R?
U 1 1 5F46B552
P 1900 2450
F 0 "R?" V 1693 2450 50  0001 C CNN
F 1 "470" V 1900 2450 50  0000 C CNN
F 2 "" V 1830 2450 50  0001 C CNN
F 3 "~" H 1900 2450 50  0001 C CNN
	1    1900 2450
	1    0    0    -1  
$EndComp
Wire Wire Line
	2400 3250 2100 3250
Wire Wire Line
	2100 3250 2100 2300
Wire Wire Line
	2100 2300 1900 2300
Connection ~ 1900 2300
Wire Wire Line
	1900 2300 1400 2300
Wire Wire Line
	1400 2950 1900 2950
$Comp
L Device:LED ...LED.n...
U 1 1 5F44148F
P 1400 2750
F 0 "...LED.n..." V 1400 2500 50  0001 C CNN
F 1 "LED" H 1393 2876 50  0001 C CNN
F 2 "" H 1400 2750 50  0001 C CNN
F 3 "~" H 1400 2750 50  0001 C CNN
F 4 "...LED n..." V 1450 2500 50  0000 C CNN "Field4"
	1    1400 2750
	0    -1   -1   0   
$EndComp
Wire Wire Line
	1400 2900 1400 2950
Connection ~ 1400 2950
Wire Wire Line
	1900 2900 1900 2950
Wire Wire Line
	2350 1750 2400 1750
Wire Wire Line
	2350 1650 2400 1650
$EndSCHEMATC
